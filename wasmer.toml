# wasmer.toml
name = "drf-jwt"
version = "0.1.0"
description = "Django DRF JWT app packaged for Wasmer Edge"
# Change the namespace to your wasmer account if you publish; for local deploys '.' is acceptable.

[package]
authors = ["abanoub-boshra"]

# declare we depend on the python runtime package that Wasmer provides
[[dependencies]]
name = "python/python"
version = "*"

# A module could be defined here if you compile wasm; for Python we use the python module provided.

# Command that will be executed when Wasmer runs this package locally (or when deploying)
# It uses the python runtime from the python/python dependency to run Gunicorn.
[[command]]
name = "start"
module = "python/python:python"
runner = "wasi"
args = [
  "-m",
  "gunicorn",
  "jwtproj.wsgi:app",
  "--bind",
  "0.0.0.0:$PORT",
  "--workers",
  "2",
  "--timeout",
  "30"
]
# Notes:
# - Uses environment variable PORT (Wasmer sets it on the runtime).
# - You can tune --workers and --timeout for your app.
